<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React – useEffect & useState</title>

    <!-- React, ReactDOM et Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body class="bg-slate-900 text-white min-h-screen flex flex-col items-center justify-center p-4">
    <h1 class="text-3xl font-bold mb-6">Révision useEffect</h1>
    <div id="root" class="w-full max-w-xl"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function Message() {
            useEffect(() => {

            })
            return (
                <React.Fragment>
                    <p>Hello la team révision</p>
                    <p>Accrochez vous</p>
                </React.Fragment>
            )
        }

        function App() {
            const [status, setStatus] = useState(true)
            const [count, setCount] = useState(-1)

            useEffect(() => {
                setCount(count + 1); // asynchrone 
            }, [status])

            return (
                <div>
                    <p>Combien de fois j'ai changé le status : {count} </p>
                    <p><button onClick={() => setStatus(!status)} >Change status </button></p>
                    {status && <Message />}
                </div>
            )
        }

        ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
</body>

</html>