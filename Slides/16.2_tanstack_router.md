
# **Routes paramétrées (Path Params)**

Les *path params* capturent une partie dynamique de l’URL.

Exemples :
`/posts/$postId` → `postId` correspond au segment après `/posts/`.

```tsx
export const Route = createFileRoute('/posts/$postId')({
  loader: ({ params }) => fetchPost(params.postId),
})
```

Dans un composant :

```tsx
const { postId } = Route.useParams()
```

---

# **Exemple : Pokémon**

```tsx
export const Route = createFileRoute("/pokemon/$name")({
  loader: async ({ params }) => {
    const r = await fetch(`https://pokeapi.co/api/v2/pokemon/${params.name}`)
    if (!r.ok) throw new Error("Pokémon introuvable")
    return r.json()
  },
  component: Pokemon,
})
```

---

# **Utilisation dans le composant**

Attention il faut importer `Route` dans votre composant.

```tsx
function PokemonPage() {
  const { name } = Route.useParams()
  const pokemon = Route.useLoaderData()
}
```

Le `loader` charge les données **avant** le rendu du composant.

---

# **Accès aux paramètres**

### Dans la route actuelle

```tsx
const { postId } = Route.useParams()
```

### Depuis un parent (layout, page parente)

```tsx
const params = useParams({ strict: false })
```

---

# **Paramètres optionnels**

Syntaxe : `{-$param}`

```tsx
createFileRoute('/posts/{-$category}')
```

Fonctionne avec `/posts` et `/posts/tech`.

---

# **Gestion des erreurs de validation**

```tsx
errorComponent: ({ error }) => (
  <div>
    <h2>Erreur</h2>
    <pre>{error.message}</pre>
  </div>
)
```

---

# **Page 404**

```tsx
const router = createRouter({
  routeTree,
  notFoundComponent: NotFound,
})
```

Ce composant s’affiche pour toute URL non définie.
